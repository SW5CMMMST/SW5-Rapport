%author         Claus 
%1st review     Søren
%2nd review     Troels
\section{Time Division Multiple Access}\label{TDMA}
% Placeres efter afsnittet om aduino radio modulet
%Radio modules for \gls{arduino} are often locked to a specific frequency \todo{Revider efter der er skrevet om RF modulet} which limits the possible communication as multiple signals on the same frequency would interfere with each other.

%A solution to this problem was made in 1991 where cellular phones gained popularity.
%Back then the calls were distributed over a range of frequencies, which had the advantage of being not interfering with one another, but limited the number of simultaneous phone calls to approximately 800 per operator. \cite{networkencyclopedia2013time, networkencyclopedia2013advanced}

%The solution was a time based system where each device had a specified time slot where it could communicate on a given frequency. 
%This meant that multiple conversations could take place on a single frequency by sending the communication in short bursts. \cite{networkencyclopedia2013time}

%This solution is the IS-54 standard which is an example of \gls{tdma}.
%\gls{tdma} became the base for newer communication based technology such as \gls{gsm}, and G2, which are data transmission technologies used by mobile phones. \cite{networkencyclopedia2013time} \todo{Skal vi nævne hvad GSM og G2 bliver brugt til måske? - det kommer lidt ud af det blå\\Er dette godt nok?}

%Because the \gls{arduino} \todo{måske skulle dette referere til RF modulet i stedet?} does not have the luxury of multi-frequency communication the predecessors to \gls{tdma} does not have any advantages as many of them are based on distributing the communication over multiple frequencies. \todo{Måske skulle der skrives: In this project a single frequency RF module will be used ... ? -T}

%\glsreset{tdma}
\gls{tdma} is a method of sharing the same radio frequency between two or more devices.

This method was first used in practice in 1991 for use in the cellular telephones, to increase the number of concurrent users on the telephone network.\cite{networkencyclopedia2013time}

\subsection{How TDMA works}

If multiple radios transmit on the same frequency at the same time while in range of eachother, then interference occurs as can be seen on \myref{fig:rangediagram}. 
On the figure the square-device is in range of both circle-devices, so if they broadcast on the same frequency at the same time then the square-device will most likely not be able to decode either of the signals.\cite{networkencyclopedia2013time, networkencyclopedia2013advanced}

%\gls{tdma} devices using the same frequency which signals would otherwise intersect as seen in figure \ref{fig:rangediagram}, which would result in the signals from either of the senders being unreadable, because they interfere with each other. \todo{Denne sætning virker lidt ufuldendt, der står: "[...] works by making devices [... bisætning]" ingen konklusion, menes der at det gør dem i stand til at kommunikere selv om alle sender og modtager på samme frekvens. ? -T}

\tikzfigure{RangeDiagram.tex}{The two devices (circles) communicate on the same frequency making the receiver (square) unable to read either signal.}{rangediagram}
%label: fig:rangediagram

This is solved by having the transmitters taking turns transmitting their message in smaller time slots as seen on figure \myref{fig:tdmaoverview}.
The figure shows five devices which share the same frequency, and to do this they get a timeslot each in the frame.
A frame is the complete cycle of these timeslots.

\tikzfigure{TDMAOverview.tex}{An example of a time slot allocation for five devices on a single frequency by using \gls{tdma}}{tdmaoverview} %label: fig:tdmaoverview 

Just like frames are divided into time slots; the following five parts are what the individual time slots consists of:

\begin{description}
\item[Guard time] \hfill \\ 
A period where no important data is sent.
This is here to make sure that devices not properly synced to the loop is less likely to corrupt the signal of other senders.

\item[Synch] \hfill \\ 
A possible additional delay before the signal depending on the distance to the receiver.

\item[Control] \hfill \\
One or more control values which determines the nature of the signal.

\item[Data] \hfill \\
The main data of the signal.

\item[CRC check] \hfill \\
The \gls{crc} is an error detecting code. It is there to make sure that the correct message was received. 
\end{description}
\bigskip

The aim of this division is to ensure that the signals does not intersect, the message being sent is isolated, and that the data is received as intended.

\code{Test}