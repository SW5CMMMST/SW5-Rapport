\chapter{Design of Multiple Device Activation}\label{chap:MDA-CCRC}
So far the \gls{ccrc}-solution have been unable to handle multiple devices being activated at the same time.
Therefore will this chapter explore a design which will make it possible to activate multiple devices at the same time.
The complications this brings will be solved in two sections; one pertaining to the issue that occurs if no network exists i.e. creating of multiple networks, and another pertaining to the issue that occurs if a network already exists i.e. multiple devices simultaneously attempting to connect to an established network.
Firstly a key concept used for solving the multiple device activation problem will be presented.
Following that the different parts of the problem will be discussed and the needed modifications to the existing design will be revealed.

\section{Exponential Backoff}
\label{sec:exponential_backoff}
The method of exponential backoff described here is based on the ethernet standard, see \citep{Ebackoff}, and consists of:
\begin{enumerate*}[label=\itshape \alph*\upshape)]
    \item remembering how many failed attempts of some action a device has made; and
    \item choosing a random number of frames to wait based upon this number.   
\end{enumerate*}
These properties of the exponential backoff can be expressed as follows:
\begin{equation}
     b \in [0, 2^c - 1] \text{ where } c \in \mathbb{N} \text{ and } {c \leq c_{max}}.
\end{equation}

\noindent
Where $b$ is a randomly chosen value from the range, and $c$ is the number of attempts starting at 1. 
The value $b$ can represent a number of frames or any other feasible time period.
With this method a device will wait 0 to 1 time periods after the first failed action, 0 to 3 after the second, 0 to 7 after the third and so on. 
To avoid an infinite increase of the wait time the $c$ should have an upper limit $c_{max}$, which would ensure a maximum wait of $2^{c_{max}}-1$ time periods.

\input{MainMatter/Design/CCRC/Multipledevices/multipleStartup.tex}
\input{MainMatter/Design/CCRC/Multipledevices/multipleStartupPseudo.tex}
\input{MainMatter/Design/CCRC/Multipledevices/multipleConnect.tex}
\input{MainMatter/Design/CCRC/Multipledevices/ModelVerification.tex}
\input{MainMatter/Design/CCRC/Multipledevices/test.tex}
\input{MainMatter/Design/CCRC/Multipledevices/conclusion.tex}
