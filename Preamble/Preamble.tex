%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Languages, Encodings and Fonts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[utf8]{inputenc} 
\usepackage[UKenglish]{babel}  
\usepackage{lmodern} 
\usepackage[T1]{fontenc}   
\usepackage[scaled=0.85]{beramono}
\usepackage{fixltx2e}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Graphics and tables
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[table, dvipsnames]{xcolor}
\definecolor{aaublue}{RGB}{33,26,82}
\definecolor{OliveGreen}{rgb}{0,0.6,0}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{caption}
\captionsetup{  font=footnotesize, 
                labelfont=bf,
                justification=centering}
\usepackage[nounderscore]{syntax} 
\usepackage{array,booktabs,arydshln}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{tikz}
\usepackage{tkz-graph}
\usetikzlibrary{shapes,arrows}
\usepackage{tikz-qtree}
\usepackage{tikzscale}
\usetikzlibrary{shapes.multipart, arrows, matrix, automata, positioning, shadows, decorations.pathreplacing, calc}
\usepackage{float}
\usepackage[off]{auto-pst-pdf}
\usepackage{wrapfig}
\usepackage{tcolorbox}
\usepackage{colortbl}
\usepackage[inline]{enumitem}
\SetLabelAlign{parright}{\parbox[t]{\labelwidth}{\raggedleft#1}}
\usepackage{moreenum}
\usepackage{setspace}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page Layout
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[left=28mm, right=41mm]{geometry}
\usepackage{titlesec}
\titleformat*{\section}{\normalfont\Large\bfseries\color{aaublue}}
\titleformat*{\subsection}{\normalfont\large\bfseries\color{aaublue}}
\titleformat*{\subsubsection}{\normalfont\normalsize\bfseries\color{aaublue}}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyhead[RE]{\color{aaublue}\small\nouppercase\leftmark}
\fancyhead[LO]{\color{aaublue}\small\nouppercase\rightmark}
\fancyhead[LE,RO]{\thepage}
\raggedbottom
\fancypagestyle{plain}{
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt}
	\fancyhead[RE]{\color{aaublue}\small\nouppercase\leftmark}
	\fancyhead[LO]{\color{aaublue}\small\nouppercase\rightmark}
	\fancyhead[LE,RO]{\thepage}
	\raggedbottom
}

\usepackage{calc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[backend=bibtex,natbib=true]{biblatex} 
\addbibresource{Bibliography/MainBibliography.bib}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Hyperlinks
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{hyperref}
\usepackage{lastpage}
\usepackage[toc]{glossaries}
\makeglossaries
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Listings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Misc
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[nottoc]{tocbibind}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{xargs}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\usepackage{csquotes}
\usepackage{booktabs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pseudocode
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\usepackage{algorithm}
\usepackage{algpseudocode} 
\floatname{algorithm}{Pseudocode}
\algrenewcommand\algorithmicindent{2em}%  
\captionsetup[algorithm]{font=footnotesize}
\makeatletter
\renewcommand{\ALG@beginalgorithmic}{\footnotesize}
\makeatother 
\algrenewcommand{\alglinenumber}[1]{\color{black!50!}\scriptsize#1}
\algrenewcommand{\algorithmiccomment}[1]{\hfill$\triangleright$ #1\hspace{0.3em}~}
%HighLighting
\input{Preamble/AlgoHighLight.tex} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MyRef
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[english]{cleveref}
\crefname{exa}{example}{examples}
\crefname{algorithm}{pseudocode}{pseudocodes}
\newcommand{\myref}[1]{\Cref{#1}}
\newcommand{\Myref}[1]{\Cref{#1}}
\newcommand{\lowercaseref}[1]{\cref{#1}}

\usepackage{latexsym,multicol,color,pstricks}

\lstdefinelanguage{Uppaal}{ % syntax highlight via font
basicstyle=\scriptsize\ttfamily, % small sans−serif font (like verdana)
keywords={after update,assign,before update,break,case,const,continue,
default,else,enum,for,guard,if,meta,process,progress,return,select,
state,sync,switch,trans,system,while},
keywords={[2]broadcast,bool,clock,chan,commit,init,int,scalar,struct,
typedef,urgent,void}, keywordstyle={[2]\bfseries},
keywords={[3]false,true}, otherkeywords={[3]−>},
morekeywords={[3]−>}, keywordstyle={[3]\bfseries},
comment=[l]{//}, morecomment=[s]{/∗}{∗/}, % single and multi−line
commentstyle=\itshape, % appear in italic
tabsize=4, % tab treatment (going to be fixed in Uppaal)
captionpos=b, % put captions at the bottom
escapechar=@ % write LaTeX comments escaped by @ symbol
}
\lstdefinelanguage[GUI]{Uppaal}[]{Uppaal}{ % syntax like in GUI
keywordstyle={[2]\color{black!50!green}}, % slightly darker than in GUI
otherkeywords={−>}, keywordstyle={[3]\color{magenta}},
commentstyle={\color{black!50!red}\itshape}, % dark red
literate={{−−>}{$−−>$}3} % fix arrows
}
\lstdefinelanguage[LIT]{Uppaal}[GUI]{Uppaal}{ % replace some symbols
literate={{−>}{{$\leadsto$} }2 {−−>}{{$\longrightarrow$} }2
{=}{{$\gets$ }}2 {==}{{$==$}}2 {:=}{{$\gets$ }}2 {<=}{{$\leq$ }}2
{>=}{{$\geq$ }}2 {&&}{{$\land$}}2 {||}{{$\lor$}}2 {<>}{{$\Diamond$}}1
{[]}{{$\Box$}}1 {forall}{{$\forall$}}1 {exists}{{$\exists$}}1}
}

\headheight 15pt
\usepackage{microtype}

\usepackage{pgfplots}
\definecolor{Offline}{HTML}{8B49A6}
\definecolor{Connecting}{HTML}{2488CB}
\definecolor{usercode}{HTML}{0EBC31}
\definecolor{Rx}{HTML}{F1C40E}
\definecolor{Tx}{HTML}{E74C3C}
\definecolor{BuzyWaiting}{HTML}{EF44FE}
\definecolor{EmptySlot}{HTML}{2F2F2F}

\tikzstyle{decision} = [diamond, draw, fill=yellow!20, text width=4.5em, text badly centered, node distance=3cm, inner sep=3pt]
\tikzstyle{block} = [rectangle, draw, fill=green!40, text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm, minimum height=2em]
\tikzstyle{cloud_nospace} = [cloud, node distance=1cm]


\overfullrule=2cm

