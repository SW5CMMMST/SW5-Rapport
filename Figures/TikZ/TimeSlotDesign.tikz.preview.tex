%& C:\Users\Marc\AppData\Roaming\TikzEdt\TikzEdt\021~1.0\TEMP_H~1
\begin{document}
\usetikzlibrary{shapes.multipart, arrows, matrix, automata, positioning, shadows, decorations.pathreplacing}

\resizebox{1\textwidth}{!}{%
\begin{tikzpicture}[scale=\textwidth]
\node[draw, align = center, 
		minimum width=0.45\textwidth, 
		minimum height=10mm,
		label=below:$\delta_{Communication}$] 
	(communicating) at (0,0)
	{\textbf{Communication phase}};
\node[draw, right = 0cm of communicating,
		minimum width=0.45\textwidth, 
		minimum height=10mm,
		label=below:$\delta_{Process}$]
	(processing)
	{\textbf{Processing phase}};

\draw [decoration={brace, amplitude=+40pt}, decorate]
    (communicating.north west) -- (processing.north east) node [black,midway,above=+42pt] 
    {\textbf{Time Slot}};	

\usetikzlibrary{calc}
\pgftransformreset
\node[inner sep=0pt,outer sep=0pt,minimum size=0pt,line width=0pt,text width=0pt,text height=0pt] at (current bounding box) {};
%add border to avoid cropping by pdflibnet
\foreach \border in {0.1}
  \useasboundingbox (current bounding box.south west)+(-\border,-\border) rectangle (current bounding box.north east)+(\border,\border);
\newwrite\metadatafile
\immediate\openout\metadatafile=\jobname_BB.txt
\path
  let
    \p1=(current bounding box.south west),
    \p2=(current bounding box.north east)
  in
  node[inner sep=0pt,outer sep=0pt,minimum size=0pt,line width=0pt,text width=0pt,text height=0pt,draw=white] at (current bounding box) {
\immediate\write\metadatafile{\p1,\p2}
};
\immediate\closeout\metadatafile
\end{tikzpicture}
}%

\end{document}
